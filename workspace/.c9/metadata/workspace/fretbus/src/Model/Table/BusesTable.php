{"changed":false,"filter":false,"title":"BusesTable.php","tooltip":"/fretbus/src/Model/Table/BusesTable.php","value":"<?php\nnamespace App\\Model\\Table;\n\nuse App\\Model\\Entity\\Bus;\nuse Cake\\ORM\\Query;\nuse Cake\\ORM\\RulesChecker;\nuse Cake\\ORM\\Table;\nuse Cake\\Validation\\Validator;\n\n/**\n * Buses Model\n *\n * @property \\Cake\\ORM\\Association\\HasMany $Data\n * @property \\Cake\\ORM\\Association\\HasMany $Log\n */\nclass BusesTable extends Table\n{\n\n    /**\n     * Initialize method\n     *\n     * @param array $config The configuration for the Table.\n     * @return void\n     */\n    public function initialize(array $config)\n    {\n        parent::initialize($config);\n\n        $this->table('buses');\n        $this->displayField('id');\n        $this->primaryKey('id');\n\n        $this->addBehavior('Timestamp');\n\n        $this->hasMany('Data', [\n            'foreignKey' => 'bus_id'\n        ]);\n        $this->hasMany('Log', [\n            'foreignKey' => 'bus_id'\n        ]);\n    }\n\n    /**\n     * Default validation rules.\n     *\n     * @param \\Cake\\Validation\\Validator $validator Validator instance.\n     * @return \\Cake\\Validation\\Validator\n     */\n    public function validationDefault(Validator $validator)\n    {\n        $validator\n            ->integer('id')\n            ->allowEmpty('id', 'create');\n\n        $validator\n            ->allowEmpty('code');\n\n        $validator\n            ->requirePresence('company', 'create')\n            ->notEmpty('company');\n\n        $validator\n            ->allowEmpty('photo');\n\n        $validator\n            ->allowEmpty('dir');\n\n        return $validator;\n    }\n}\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":420,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":34,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1473946083838}