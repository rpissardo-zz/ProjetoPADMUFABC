{"filter":false,"title":"map.ctp","tooltip":"/fretbus/src/Template/Layout/map.ctp","undoManager":{"mark":90,"position":90,"stack":[[{"start":{"row":20,"column":5},"end":{"row":25,"column":11},"action":"remove","lines":["script type=\"text/javascript\"","      src=\"https://maps.googleapis.com/maps/api/js?sensor=true&&signed_in=true&key=AIzaSyAu48Gy-zw-DN1BZ0pDcz-bor27gCpwchA\">","    </script>","    <script type=\"text/javascript\"","      src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js\">","  </script>"],"id":279}],[{"start":{"row":20,"column":4},"end":{"row":20,"column":5},"action":"remove","lines":["<"],"id":280}],[{"start":{"row":20,"column":2},"end":{"row":20,"column":4},"action":"remove","lines":["  "],"id":281}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"remove","lines":["  "],"id":282}],[{"start":{"row":19,"column":24},"end":{"row":20,"column":0},"action":"remove","lines":["",""],"id":283}],[{"start":{"row":83,"column":50},"end":{"row":83,"column":51},"action":"insert","lines":["\u0001"],"id":284}],[{"start":{"row":107,"column":14},"end":{"row":107,"column":15},"action":"insert","lines":["\u0001"],"id":285}],[{"start":{"row":21,"column":1},"end":{"row":220,"column":11},"action":"remove","lines":[" <script>","  /* DECLARAÇÃO DE VARIÁVEIS */","    var map;//Variável de Mapa","    window.latuser=0;","    window.lonuser=0;","    window.lat=0;//Latitude atual","    window.latant=0;//Longitude atual","    window.lonant=0;//Latitude anterior","    window.lon=0;//Longitude anterior","    window.vel=0;","    window.attroute = 0;","    window.modified;//Última modificação","    window.posBus;//Posição do veículo","    window.busMarker = [];//Marcador do veículo","    window.userMarker = [];//Marcador do usuário","    window.posUser;","    window.busIcon = '/fretbus/webroot/img/bus-side-view.png';//Imagem do marcador no mapa","    window.userIcon = '/fretbus/webroot/img/user-dot.png';//Imagem do marcador no mapa","    ","    /* Ajax utilizado para pegar os elementos antes de inicializar o mapa */","    ","    $.ajax({","      url: \"/fretbus/data/map/1\",","      context: document.body,","      dataType: 'json'","    }).done(function(posAtual) {","      posAtual = posAtual['retorno'];","      window.lat = Number(posAtual['lat']);","      window.lon = Number(posAtual['lon']);","      window.modified = posAtual['modified'];","      window.posBus = new google.maps.LatLng(window.lat, window.lon);","    });","  ","    /** FUNÇÃO INITIALIZE","     * Essa função é executada uma vez, sempre que o mapa é inicializado","     * Função simples:","     *        Inicia os parâmetros e opções do mapa","     */","      ","    function initialize() {","      directionsService = new google.maps.DirectionsService;","      directionsDisplay = new google.maps.DirectionsRenderer({suppressMarkers: true});","      var mapOptions = {","        zoom: 14,","        center: window.posBus","      }","      map = new google.maps.Map(document.getElementById('map'), mapOptions);","      var trafficLayer = new google.maps.TrafficLayer();","      trafficLayer.setMap(map);","      directionsDisplay.setMap(map);","      }","    ","    /** FUNÇÃO LOADUSER","     * Essa função tem como dever carregar as novas posições do usuário,","     * bem como tratar se o marker deve ser excluído ou não.","     * Ela é chamada, cada vez que a posição do veículo é verificada.","     */","    ","    function loadUser(){","      if(navigator.geolocation){","        navigator.geolocation.getCurrentPosition(function(position){","          window.posUser = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);","          if (position.coords.latitude!=window.lat\u0001user || position.coords.longitude!=window.lonuser) {","            window.latuser=position.coords.latitude;","            window.lonuser=position.coords.longitude;","            deleteUserMarker();","            window.userMarker[0] = new google.maps.Marker({","              position: window.posUser,","              map: map,","              title: \"Você\",","              icon: window.userIcon","            });","          }","        });","      }","    }","    ","    ","    /** FUNÇÃO LOADBUS","     * Essa função tem como dever carregar as novas posições do veículo,","     * bem como tratar se o marker deve ser excluído ou não.","     */","     ","    function loadBus() {","      //Ajax busca as posições sem atualizar o mapa","      loadUser();","      $.ajax({\u0001","        url: \"/fretbus/data/map/1\",","        context: document.body,","        dataType: 'json'","      }).done(function(posAtual) {","        posAtual = posAtual['retorno'];","        window.lat = Number(posAtual['lat']);","        window.lon = Number(posAtual['lon']);","        window.modified = posAtual['modified'];","        window.vel = posAtual['vel'];","        window.posBus = new google.maps.LatLng(window.lat, window.lon);","        $(\".modified\").text(window.modified);","        $(\".vel\").text(window.vel+\"km/h\");","      });","      //Tratamento para determinar necessidade de atualização da posição do veículo","      if (window.lat!=window.latant || window.lon!=window.lonant) {","        window.latant = window.lat;","        window.lonant = window.lon;","        deleteBusMarker();//Deleta o marker antes de criar um novo","        //Cria marker","        window.busMarker[1] = new google.maps.Marker({","          position: window.posBus, ","          map: map, ","          title: \"Fretado\",","          icon: window.busIcon","        });","        window.attroute = 0;","      }","        if(window.attroute == 0){","        calculateAndDisplayRoute(directionsService, directionsDisplay);","        directionsDisplay.setPanel(document.getElementById('directionsPanel'));","        google.maps.event.addListener(directionsDisplay, 'directions_changed', function() {","        computeTotalDistance(directionsDisplay.directions);","      });","      window.attroute=1;","        }","    }","    ","    ","    /** FUNCAO DELETEBUSMARKER","     * Essa função é chamada dento da função LOADBUS","     */","    function deleteBusMarker(){","      for (var i = 1; i < window.busMarker.length; i++) {","        window.busMarker[i].setMap(null);","      }","      window.busMarker = [];","    }","    ","    /** FUNCAO DELETEUSERMARKER","     * Essa função é chamada dento da função","     */","    function deleteUserMarker(){","      for (var i = 0; i < window.userMarker.length; i++) {","        window.userMarker[i].setMap(null);","      }","      window.userMarker = [];","    }","    ","    // FUNÇÃO PARA CENTRALIZAR O MAPA","    ","    function centerOnMarker(){","      map.panTo(window.posBus);","    }","    ","    // FUNÇÃO PARA DETERMINAR A ROTA DO VEÍCULO","    ","    function calculateAndDisplayRoute(directionsService, directionsDisplay) {","      directionsService.route({","        origin: window.posBus,","        destination: window.posUser,","        travelMode: google.maps.TravelMode.DRIVING","      }, function(response, status) {","        if (status === google.maps.DirectionsStatus.OK) {","           directionsDisplay.setDirections(response);","        }","      });","    }","    /** FUNÇÃO QUE CALCULA AS VARIAVEIS DA ROTA DE ONDE O VEÍCULO ESTÁ ATÉ O USUÁRIO","     */","    function computeTotalDistance(result) {","      window.totalToArriveKm = 0;","      window.totalToArriveTime= 0;","      var myroute = result.routes[0];","      for (var i = 0; i < myroute.legs.length; i++) {","        window.totalToArriveKm += myroute.legs[i].distance.value;","        window.totalToArriveTime +=myroute.legs[i].duration.text;","        }","    window.totalToArriveTime = totalToArriveTime.replace('hours','H');","    window.totalToArriveTime = totalToArriveTime.replace('mins','M');","    window.totalToArriveKm = totalToArriveKm / 1000;","    console.log(window.totalToArriveTime) ;","    console.log((window.totalToArriveKm)+\"KM\") ;","    $(\".totalToArriveTime\").text(window.totalToArriveTime);","    $(\".totalToArriveKm\").text(totalToArriveKm+\"Km\");","  }","  ","  ","    ","  google.maps.event.addDomListener(window, 'load', initialize);//Inicializa a função INITIALIZE quando a página é carregada","  setInterval(function(){ loadBus(); }, 1000);//A cada um segundo verifica a posição do veículo","  setInterval(function(){ centerOnMarker(); }, 5000);","    </script>","    <div class=\"barra\">","      <b>Vel:</b>","      <span class='vel'></span> ","      <b>Última atualização:</b>","      <span class='modified'></span>","      </br>","      <b>Tempo:</b>","      <span class='totalToArriveTime'></span> ","      <b>Distancia:</b>","      <span class='totalToArriveKm'></span>","      </br>"],"id":286}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":1},"action":"remove","lines":[" "],"id":287}],[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"remove","lines":["",""],"id":288}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":10},"action":"remove","lines":["</div>"],"id":289}],[{"start":{"row":21,"column":2},"end":{"row":21,"column":4},"action":"remove","lines":["  "],"id":290}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":2},"action":"remove","lines":["  "],"id":291}],[{"start":{"row":20,"column":2},"end":{"row":21,"column":0},"action":"remove","lines":["",""],"id":292}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"remove","lines":["  "],"id":293}],[{"start":{"row":19,"column":24},"end":{"row":20,"column":0},"action":"remove","lines":["",""],"id":294}],[{"start":{"row":19,"column":18},"end":{"row":19,"column":19},"action":"insert","lines":["<"],"id":295}],[{"start":{"row":19,"column":19},"end":{"row":19,"column":20},"action":"insert","lines":["?"],"id":296}],[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":["="],"id":297}],[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":[" "],"id":298}],[{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"insert","lines":["?"],"id":299}],[{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"insert","lines":[">"],"id":300}],[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"remove","lines":["="],"id":301}],[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":[" "],"id":302}],[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":["="],"id":303}],[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":[" "],"id":304}],[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"remove","lines":[" "],"id":305}],[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"remove","lines":["="],"id":306}],[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":[" "],"id":307}],[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":["E"],"id":308}],[{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"insert","lines":["C"],"id":309}],[{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"insert","lines":["H"],"id":310}],[{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"insert","lines":["O"],"id":311}],[{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"remove","lines":["O"],"id":312}],[{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"remove","lines":["H"],"id":313}],[{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"remove","lines":["C"],"id":314}],[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"remove","lines":["E"],"id":315}],[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":["e"],"id":316}],[{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"insert","lines":["c"],"id":317}],[{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"insert","lines":["h"],"id":318}],[{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"insert","lines":["o"],"id":319}],[{"start":{"row":19,"column":25},"end":{"row":19,"column":26},"action":"insert","lines":[" "],"id":320}],[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"insert","lines":["r"],"id":321}],[{"start":{"row":19,"column":27},"end":{"row":19,"column":28},"action":"insert","lines":["e"],"id":322}],[{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"insert","lines":["t"],"id":323}],[{"start":{"row":19,"column":29},"end":{"row":19,"column":30},"action":"insert","lines":["o"],"id":324}],[{"start":{"row":19,"column":29},"end":{"row":19,"column":30},"action":"remove","lines":["o"],"id":325}],[{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"remove","lines":["t"],"id":326}],[{"start":{"row":19,"column":27},"end":{"row":19,"column":28},"action":"remove","lines":["e"],"id":327}],[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"remove","lines":["r"],"id":328}],[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"insert","lines":["@"],"id":329}],[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"remove","lines":["@"],"id":330}],[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"insert","lines":["#"],"id":331}],[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"remove","lines":["#"],"id":332}],[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"insert","lines":["$"],"id":333}],[{"start":{"row":19,"column":27},"end":{"row":19,"column":28},"action":"insert","lines":["r"],"id":334}],[{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"insert","lines":["o"],"id":335}],[{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"remove","lines":["o"],"id":336}],[{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"insert","lines":["e"],"id":337}],[{"start":{"row":19,"column":29},"end":{"row":19,"column":30},"action":"insert","lines":["t"],"id":338}],[{"start":{"row":19,"column":30},"end":{"row":19,"column":31},"action":"insert","lines":["o"],"id":339}],[{"start":{"row":19,"column":31},"end":{"row":19,"column":32},"action":"insert","lines":["r"],"id":340}],[{"start":{"row":19,"column":32},"end":{"row":19,"column":33},"action":"insert","lines":["n"],"id":341}],[{"start":{"row":19,"column":33},"end":{"row":19,"column":34},"action":"insert","lines":["o"],"id":342}],[{"start":{"row":0,"column":0},"end":{"row":21,"column":7},"action":"remove","lines":["<!DOCTYPE html>","<html>","  <head>","    <title>Simple Map</title>","    <meta name=\"viewport\" content=\"initial-scale=1.0\">","    <meta charset=\"utf-8\">","    <?= $this->Html->css('main.css') ?>","    <style>","      html, body {","        height: 100%;","        margin: 0;","        padding: 0;","      }","      #map {","        height: 90%;","      }","    </style>","  </head>","  <body>","    <div id=\"map\"><? echo $retorno  ?></div>","  </body>","</html>"],"id":343},{"start":{"row":0,"column":0},"end":{"row":229,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","  <head>","    <title>Simple Map</title>","    <meta name=\"viewport\" content=\"initial-scale=1.0\">","    <meta charset=\"utf-8\">","    <?= $this->Html->css('main.css') ?>","    <style>","      html, body {","        height: 100%;","        margin: 0;","        padding: 0;","      }","      #map {","        height: 90%;","      }","    </style>","  </head>","  <body>","    <div id=\"map\"></div>","    <script type=\"text/javascript\"","      src=\"https://maps.googleapis.com/maps/api/js?sensor=true&&signed_in=true&key=AIzaSyAu48Gy-zw-DN1BZ0pDcz-bor27gCpwchA\">","    </script>","    <script type=\"text/javascript\"","      src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js\">","  </script>","  ","  <script>","  /* DECLARAÇÃO DE VARIÁVEIS */","    var map;//Variável de Mapa","    window.latuser=0;","    window.lonuser=0;","    window.lat=0;//Latitude atual","    window.latant=0;//Longitude atual","    window.lonant=0;//Latitude anterior","    window.lon=0;//Longitude anterior","    window.vel=0;","    window.attroute = 0;","    window.modified;//Última modificação","    window.posBus;//Posição do veículo","    window.busMarker = [];//Marcador do veículo","    window.userMarker = [];//Marcador do usuário","    window.posUser;","    window.busIcon = '/fretbus/webroot/img/bus-side-view.png';//Imagem do marcador no mapa","    window.userIcon = '/fretbus/webroot/img/user-dot.png';//Imagem do marcador no mapa","    ","    /* Ajax utilizado para pegar os elementos antes de inicializar o mapa */","    ","    $.ajax({","      url: \"/fretbus/data/map/1\",","      context: document.body,","      dataType: 'json'","    }).done(function(posAtual) {","      posAtual = posAtual['retorno'];","      window.lat = Number(posAtual['lat']);","      window.lon = Number(posAtual['lon']);","      window.modified = posAtual['modified'];","      window.posBus = new google.maps.LatLng(window.lat, window.lon);","    });","  ","    /** FUNÇÃO INITIALIZE","     * Essa função é executada uma vez, sempre que o mapa é inicializado","     * Função simples:","     *        Inicia os parâmetros e opções do mapa","     */","      ","    function initialize() {","      directionsService = new google.maps.DirectionsService;","      directionsDisplay = new google.maps.DirectionsRenderer({suppressMarkers: true});","      var mapOptions = {","        zoom: 14,","        center: window.posBus","      }","      map = new google.maps.Map(document.getElementById('map'), mapOptions);","      var trafficLayer = new google.maps.TrafficLayer();","      trafficLayer.setMap(map);","      directionsDisplay.setMap(map);","      }","    ","    /** FUNÇÃO LOADUSER","     * Essa função tem como dever carregar as novas posições do usuário,","     * bem como tratar se o marker deve ser excluído ou não.","     * Ela é chamada, cada vez que a posição do veículo é verificada.","     */","    ","    function loadUser(){","      if(navigator.geolocation){","        navigator.geolocation.getCurrentPosition(function(position){","          window.posUser = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);","          if (position.coords.latitude!=window.latuser || position.coords.longitude!=window.lonuser) {","            window.latuser=position.coords.latitude;","            window.lonuser=position.coords.longitude;","            deleteUserMarker();","            window.userMarker[0] = new google.maps.Marker({","              position: window.posUser,","              map: map,","              title: \"Você\",","              icon: window.userIcon","            });","          }","        });","      }","    }","    ","    ","    /** FUNÇÃO LOADBUS","     * Essa função tem como dever carregar as novas posições do veículo,","     * bem como tratar se o marker deve ser excluído ou não.","     */","     ","    function loadBus() {","      //Ajax busca as posições sem atualizar o mapa","      loadUser();","      $.ajax({","        url: \"/fretbus/data/map/1\",","        context: document.body,","        dataType: 'json'","      }).done(function(posAtual) {","        posAtual = posAtual['retorno'];","        window.lat = Number(posAtual['lat']);","        window.lon = Number(posAtual['lon']);","        window.modified = posAtual['modified'];","        window.vel = posAtual['vel'];","        window.posBus = new google.maps.LatLng(window.lat, window.lon);","        $(\".modified\").text(window.modified);","        $(\".vel\").text(window.vel+\"km/h\");","      });","      //Tratamento para determinar necessidade de atualização da posição do veículo","      if (window.lat!=window.latant || window.lon!=window.lonant) {","        window.latant = window.lat;","        window.lonant = window.lon;","        deleteBusMarker();//Deleta o marker antes de criar um novo","        //Cria marker","        window.busMarker[1] = new google.maps.Marker({","          position: window.posBus, ","          map: map, ","          title: \"Fretado\",","          icon: window.busIcon","        });","        window.attroute = 0;","      }","        if(window.attroute == 0){","        calculateAndDisplayRoute(directionsService, directionsDisplay);","        directionsDisplay.setPanel(document.getElementById('directionsPanel'));","        google.maps.event.addListener(directionsDisplay, 'directions_changed', function() {","        computeTotalDistance(directionsDisplay.directions);","      });","      window.attroute=1;","        }","    }","    ","    ","    /** FUNCAO DELETEBUSMARKER","     * Essa função é chamada dento da função LOADBUS","     */","    function deleteBusMarker(){","      for (var i = 1; i < window.busMarker.length; i++) {","        window.busMarker[i].setMap(null);","      }","      window.busMarker = [];","    }","    ","    /** FUNCAO DELETEUSERMARKER","     * Essa função é chamada dento da função","     */","    function deleteUserMarker(){","      for (var i = 0; i < window.userMarker.length; i++) {","        window.userMarker[i].setMap(null);","      }","      window.userMarker = [];","    }","    ","    // FUNÇÃO PARA CENTRALIZAR O MAPA","    ","    function centerOnMarker(){","      map.panTo(window.posBus);","    }","    ","    // FUNÇÃO PARA DETERMINAR A ROTA DO VEÍCULO","    ","    function calculateAndDisplayRoute(directionsService, directionsDisplay) {","      directionsService.route({","        origin: window.posBus,","        destination: window.posUser,","        travelMode: google.maps.TravelMode.DRIVING","      }, function(response, status) {","        if (status === google.maps.DirectionsStatus.OK) {","           directionsDisplay.setDirections(response);","        }","      });","    }","    /** FUNÇÃO QUE CALCULA AS VARIAVEIS DA ROTA DE ONDE O VEÍCULO ESTÁ ATÉ O USUÁRIO","     */","    function computeTotalDistance(result) {","      window.totalToArriveKm = 0;","      window.totalToArriveTime= 0;","      var myroute = result.routes[0];","      for (var i = 0; i < myroute.legs.length; i++) {","        window.totalToArriveKm += myroute.legs[i].distance.value;","        window.totalToArriveTime +=myroute.legs[i].duration.text;","        }","    window.totalToArriveTime = totalToArriveTime.replace('hours','H');","    window.totalToArriveTime = totalToArriveTime.replace('mins','M');","    window.totalToArriveKm = totalToArriveKm / 1000;","    console.log(window.totalToArriveTime) ;","    console.log((window.totalToArriveKm)+\"KM\") ;","    $(\".totalToArriveTime\").text(window.totalToArriveTime);","    $(\".totalToArriveKm\").text(totalToArriveKm+\"Km\");","  }","  ","  ","    ","  google.maps.event.addDomListener(window, 'load', initialize);//Inicializa a função INITIALIZE quando a página é carregada","  setInterval(function(){ loadBus(); }, 1000);//A cada um segundo verifica a posição do veículo","  setInterval(function(){ centerOnMarker(); }, 5000);","    </script>","    <div class=\"barra\">","      <b>Vel:</b>","      <span class='vel'></span> ","      <b>Última atualização:</b>","      <span class='modified'></span>","      </br>","      <b>Tempo:</b>","      <span class='totalToArriveTime'></span> ","      <b>Distancia:</b>","      <span class='totalToArriveKm'></span>","      </br>","    </div>","  </body>","</html>"]}],[{"start":{"row":228,"column":9},"end":{"row":229,"column":7},"action":"remove","lines":["","</html>"],"id":344}],[{"start":{"row":128,"column":9},"end":{"row":128,"column":10},"action":"insert","lines":["("],"id":346}],[{"start":{"row":128,"column":66},"end":{"row":128,"column":67},"action":"insert","lines":[")"],"id":347}],[{"start":{"row":128,"column":66},"end":{"row":128,"column":67},"action":"insert","lines":[" "],"id":348}],[{"start":{"row":128,"column":67},"end":{"row":128,"column":68},"action":"insert","lines":["&"],"id":349}],[{"start":{"row":128,"column":68},"end":{"row":128,"column":69},"action":"insert","lines":["&"],"id":350}],[{"start":{"row":128,"column":69},"end":{"row":128,"column":70},"action":"insert","lines":[" "],"id":351}],[{"start":{"row":128,"column":70},"end":{"row":128,"column":72},"action":"insert","lines":["()"],"id":352}],[{"start":{"row":128,"column":71},"end":{"row":128,"column":72},"action":"insert","lines":["i"],"id":353}],[{"start":{"row":128,"column":72},"end":{"row":128,"column":73},"action":"insert","lines":["f"],"id":354}],[{"start":{"row":128,"column":72},"end":{"row":128,"column":73},"action":"remove","lines":["f"],"id":355}],[{"start":{"row":128,"column":71},"end":{"row":128,"column":72},"action":"remove","lines":["i"],"id":356}],[{"start":{"row":128,"column":71},"end":{"row":128,"column":83},"action":"insert","lines":["window.lat!="],"id":357}],[{"start":{"row":128,"column":83},"end":{"row":128,"column":85},"action":"insert","lines":["\"\""],"id":358}],[{"start":{"row":128,"column":84},"end":{"row":128,"column":85},"action":"insert","lines":["0"],"id":359}],[{"start":{"row":128,"column":85},"end":{"row":128,"column":86},"action":"insert","lines":["."],"id":360}],[{"start":{"row":128,"column":86},"end":{"row":128,"column":87},"action":"insert","lines":["0"],"id":361}],[{"start":{"row":128,"column":88},"end":{"row":128,"column":89},"action":"insert","lines":[" "],"id":362}],[{"start":{"row":128,"column":89},"end":{"row":128,"column":90},"action":"insert","lines":["&"],"id":363}],[{"start":{"row":128,"column":90},"end":{"row":128,"column":91},"action":"insert","lines":["&"],"id":364}],[{"start":{"row":128,"column":91},"end":{"row":128,"column":92},"action":"insert","lines":[" "],"id":365}],[{"start":{"row":128,"column":92},"end":{"row":128,"column":109},"action":"insert","lines":["window.lat!=\"0.0\""],"id":366}],[{"start":{"row":128,"column":101},"end":{"row":128,"column":102},"action":"remove","lines":["t"],"id":367}],[{"start":{"row":128,"column":100},"end":{"row":128,"column":101},"action":"remove","lines":["a"],"id":368}],[{"start":{"row":128,"column":100},"end":{"row":128,"column":101},"action":"insert","lines":["o"],"id":369}],[{"start":{"row":128,"column":101},"end":{"row":128,"column":102},"action":"insert","lines":["n"],"id":370}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":128,"column":70},"end":{"row":128,"column":70},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1475933662000,"hash":"94fe33be02cff36057dd5875fa883794717cc480"}